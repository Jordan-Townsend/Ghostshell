<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ghostshell MMO UI â€“ Multiplayer</title>
</head>
<body>
  <h1>Ghostshell MMO Multiplayer</h1>
  <div id="log">Connecting...</div>
  <input id="messageInput" placeholder="Cast symbolic action..." size="40">
  <button onclick="sendMessage()">Send</button>

  <script>
    const nickname = "Player_" + Math.floor(Math.random() * 9999);
    const log = document.getElementById("log");
    const input = document.getElementById("messageInput");

    const socket = new WebSocket("wss://const socket = new WebSocket("wss://ghostshell.onrender.com/ws");

    socket.onopen = () => {
      log.innerHTML += `<br>ğŸŸ¢ Connected as <b>${nickname}</b>`;
    };
    socket.onmessage = (event) => {
      const data = JSON.parse(event.data);
      log.innerHTML += `<br><b>${data.nickname}</b>: ${data.message}`;
    };
    socket.onerror = () => {
      log.innerHTML += "<br>âŒ Failed to connect to multiplayer server.";
    };

    function sendMessage() {
      const payload = {
        nickname: nickname,
        message: input.value.trim()
      };
      if (input.value.trim()) {
        socket.send(JSON.stringify(payload));
        input.value = "";
      }
    }
  </script>
</body>
</html>
